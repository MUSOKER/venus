const { CourseModel } = require('../../models');

const createCourse = async({
    course_name,
    course_description,
    course_duration,
    course_rating,
    course_thumb_image,
    category_ids,
    social_media_links,
    total_videos,
    startDate,
    endDate,
    capacity,
    createdBy,
    instructorId,
    demo_video_src,
    meta_info,
}) => CourseModel.create({
    course_name,
    course_description,
    course_duration,
    course_rating,
    course_thumb_image,
    category_ids,
    social_media_links,
    total_videos,
    startDate,
    endDate,
    capacity,
    createdBy,
    instructorId,
    demo_video_src,
    meta_info,
});

const updateTheCourse = async({
    course_name,
    course_description,
    course_duration,
    course_rating,
    course_thumb_image,
    category_ids,
    social_media_links,
    total_videos,
    startDate,
    endDate,
    capacity,
    createdBy,
    instructorId,
    demo_video_src,
    meta_info,
}) => CourseModel.findByIdAndUpdate(
    courseId, {
        course_name,
        course_description,
        course_duration,
        course_rating,
        course_thumb_image,
        category_ids,
        social_media_links,
        total_videos,
        startDate,
        endDate,
        capacity,
        createdBy,
        instructorId,
        demo_video_src,
        meta_info,
    }, { returnedDocument: 'after' },
);

module.exports = {
    createCourse,
    updateTheCourse,
};